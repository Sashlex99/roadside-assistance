# SMS –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## –ü—Ä–µ–≥–ª–µ–¥

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞ SMS –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞ –ø–æ—Ç–≤—ä—Ä–∂–¥–∞–≤–∞–Ω–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∏—Ç–µ –Ω–æ–º–µ—Ä–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ. –í –º–æ–º–µ–Ω—Ç–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞ —Ä–∞–±–æ—Ç–∏ –≤ –¥–µ–º–æ —Ä–µ–∂–∏–º –∑–∞ —Ç–µ—Å—Ç–≤–∞–Ω–µ.

## –¢–µ–∫—É—â–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ (–î–ï–ú–û –†–ï–ñ–ò–ú)

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∏ –≤ development:
1. –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç –≤—ä–≤–µ–∂–¥–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ–Ω –Ω–æ–º–µ—Ä
2. –°–∏—Å—Ç–µ–º–∞—Ç–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞ 6-—Ü–∏—Ñ—Ä–µ–Ω –∫–æ–¥
3. **–ö–æ–¥—ä—Ç —Å–µ –ø–æ–∫–∞–∑–≤–∞ –ø–æ 3 –Ω–∞—á–∏–Ω–∞:**
   - üö® **Pop-up alert** –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ (–Ω–∞–π-–ª–µ—Å–Ω–æ –∑–∞ –∫–æ–ø–∏—Ä–∞–Ω–µ)
   - üì± **–ö–æ–Ω–∑–æ–ª–∞ –Ω–∞ –±—Ä–∞—É–∑—ä—Ä–∞/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ** —Å —è—Å–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ
   - üìã **Metro bundler —Ç–µ—Ä–º–∏–Ω–∞–ª** (–∞–∫–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ —Å—ä—Å `npm start`)

### Debug –∫–æ–º–∞–Ω–¥–∏ –≤ development:
–í –∫–æ–Ω–∑–æ–ª–∞—Ç–∞ –Ω–∞ –±—Ä–∞—É–∑—ä—Ä–∞/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ—Ç–æ –º–æ–∂–µ—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ:
```javascript
// –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –≤—Å–∏—á–∫–∏ –∞–∫—Ç–∏–≤–Ω–∏ –∫–æ–¥–æ–≤–µ
getVerificationCodes()

// –ò–∑—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –∫–æ–¥–æ–≤–µ
clearVerificationCodes()
```

## –§–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∏ –Ω–æ–º–µ—Ä–∞

–°–∏—Å—Ç–µ–º–∞—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∏ –Ω–æ–º–µ—Ä–∞:
- `0899123456` ‚Üí `+359899123456`
- `899123456` ‚Üí `+359899123456`
- `359899123456` ‚Üí `+359899123456`
- `+359899123456` ‚Üí –æ—Å—Ç–∞–≤–∞ —Å—ä—â–∏—è

## Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ó–∞ production –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ —Ç—Ä—è–±–≤–∞ –¥–∞:

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ SMS Provider

**–ü—Ä–µ–ø–æ—Ä—ä—á–∞–Ω–∏ –±—ä–ª–≥–∞—Ä—Å–∫–∏ SMS –¥–æ—Å—Ç–∞–≤—á–∏—Ü–∏:**
- **SMS.bg** - [https://sms.bg](https://sms.bg)
- **VivaKom SMS** - [https://www.vivacom.bg](https://www.vivacom.bg)
- **A1 SMS** - [https://www.a1.bg](https://www.a1.bg)
- **Yettel SMS** - [https://www.yettel.bg](https://www.yettel.bg)

### 2. –ü–æ–ª—É—á–∞–≤–∞–Ω–µ –Ω–∞ API –∫–ª—é—á

–°–ª–µ–¥ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —â–µ –ø–æ–ª—É—á–∏—Ç–µ:
- API URL endpoint
- API –∫–ª—é—á/—Ç–æ–∫–µ–Ω
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞ API-—Ç–æ

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –Ω–∞ environment variables

–°—ä–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ root –ø–∞–ø–∫–∞—Ç–∞:
```env
SMS_PROVIDER_URL=https://api.your-sms-provider.com/send
SMS_API_KEY=your_api_key_here
SMS_SENDER_NAME=RoadsideApp
```

### 4. –ê–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ production –∫–æ–¥–∞

–í `src/services/smsService.ts`, –ø—Ä–µ–º–∞—Ö–Ω–µ—Ç–µ –∫–æ–º–µ–Ω—Ç–∞—Ä–∏—Ç–µ –æ—Ç `sendRealSMS` —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ –∏ —è –∞–¥–∞–ø—Ç–∏—Ä–∞–π—Ç–µ —Å–ø–æ—Ä–µ–¥ API-—Ç–æ –Ω–∞ –≤–∞—à–∏—è –¥–æ—Å—Ç–∞–≤—á–∏–∫.

## –ü—Ä–∏–º–µ—Ä –∑–∞ SMS.bg –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

```javascript
const sendRealSMS = async (phone: string, code: string): Promise<void> => {
  const apiUrl = process.env.SMS_PROVIDER_URL;
  const apiKey = process.env.SMS_API_KEY;
  const message = `–í–∞—à–∏—è—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–µ–Ω –∫–æ–¥ –µ: ${code}`;
  
  const response = await fetch(apiUrl, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${apiKey}`
    },
    body: JSON.stringify({
      to: phone,
      message: message,
      from: process.env.SMS_SENDER_NAME
    })
  });
  
  if (!response.ok) {
    const error = await response.json();
    throw new Error(`SMS API –≥—Ä–µ—à–∫–∞: ${error.message}`);
  }
};
```

## –°–∏–≥—É—Ä–Ω–æ—Å—Ç

### –¢–µ–∫—É—â–∏ –º–µ—Ä–∫–∏:
- –ö–æ–¥–æ–≤–µ—Ç–µ –∏–∑—Ç–∏—á–∞—Ç —Å–ª–µ–¥ 5 –º–∏–Ω—É—Ç–∏
- –í—Å–µ–∫–∏ –∫–æ–¥ –º–æ–∂–µ –¥–∞ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ —Å–∞–º–æ –≤–µ–¥–Ω—ä–∂
- –¢–µ–ª–µ—Ñ–æ–Ω–Ω–∏—Ç–µ –Ω–æ–º–µ—Ä–∞ —Å–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–∞—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ

### –ó–∞ production:
- –î–æ–±–∞–≤–µ—Ç–µ rate limiting (–º–∞–∫—Å. 3 SMS-–∞ –Ω–∞ —á–∞—Å –Ω–∞ –Ω–æ–º–µ—Ä)
- –õ–æ–≥–≤–∞–π—Ç–µ –≤—Å–∏—á–∫–∏ –æ–ø–∏—Ç–∏ –∑–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ä–∞–π—Ç–µ –∑–∞ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–∞
- –î–æ–±–∞–≤–µ—Ç–µ CAPTCHA –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–µ—É—Å–ø–µ—à–Ω–∏ –æ–ø–∏—Ç–∏

## –†–∞–∑—Ö–æ–¥–∏

SMS –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è—Ç–∞ –∏–º–∞ —Ä–∞–∑—Ö–æ–¥–∏ –≤ production:
- –û–±–∏–∫–Ω–æ–≤–µ–Ω–æ 0.05-0.15 –ª–≤ –Ω–∞ SMS
- –ü–ª–∞–Ω–∏—Ä–∞–π—Ç–µ –±—é–¥–∂–µ—Ç —Å–ø–æ—Ä–µ–¥ –æ—á–∞–∫–≤–∞–Ω–∏—è –±—Ä–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ù—è–∫–æ–∏ –¥–æ—Å—Ç–∞–≤—á–∏—Ü–∏ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç –ø–∞–∫–µ—Ç–Ω–∏ —Ü–µ–Ω–∏

## –¢–µ—Å—Ç–≤–∞–Ω–µ

### –í development:
1. –í—ä–≤–µ–¥–µ—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–ª–µ–Ω —Ç–µ–ª–µ—Ñ–æ–Ω–µ–Ω –Ω–æ–º–µ—Ä
2. –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ "–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–∞–π"
3. –ö–æ–ø–∏—Ä–∞–π—Ç–µ –∫–æ–¥–∞ –æ—Ç pop-up alert-–∞
4. –í—ä–≤–µ–¥–µ—Ç–µ –∫–æ–¥–∞ –≤ –ø–æ–ª–µ—Ç–æ
5. –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ "–ü–æ—Ç–≤—ä—Ä–¥–∏ –∫–æ–¥"

### –ó–∞ production —Ç–µ—Å—Ç–≤–∞–Ω–µ:
1. –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ä–µ–∞–ª–µ–Ω —Ç–µ–ª–µ—Ñ–æ–Ω–µ–Ω –Ω–æ–º–µ—Ä
2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ —á–µ SMS-—ä—Ç –ø—Ä–∏—Å—Ç–∏–≥–∞
3. –¢–µ—Å—Ç–≤–∞–π—Ç–µ —Å —Ä–∞–∑–ª–∏—á–Ω–∏ —Ñ–æ—Ä–º–∞—Ç–∏ –Ω–∞ –Ω–æ–º–µ—Ä–∞
4. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∏–∑—Ç–∏—á–∞–Ω–µ—Ç–æ –Ω–∞ –∫–æ–¥–æ–≤–µ—Ç–µ 